<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>$ELK — The Antlers Are Heavy</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --crimson: #8B0000;
            --crimson-glow: #DC143C;
            --crimson-soft: rgba(139, 0, 0, 0.3);
            --crimson-mist: rgba(139, 0, 0, 0.08);
            --void: #0a0a0a;
            --charcoal: #0d0d0d;
            --ash: #111111;
            --mist: #1a1a1a;
            --bone: #e8e0d5;
            --bone-dim: #8a7a6a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Crimson Text', serif;
            background: var(--void);
            color: var(--bone);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.7;
        }

        /* Grain Overlay */
        .grain-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            opacity: 0.04;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        /* Vignette */
        .vignette {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
            background: radial-gradient(ellipse at center, transparent 0%, transparent 35%, rgba(0,0,0,0.7) 100%);
        }

        /* Mist Animation */
        @keyframes mistDrift {
            0% { transform: translateX(-15%) translateY(0); opacity: 0.2; }
            50% { opacity: 0.4; }
            100% { transform: translateX(15%) translateY(-30px); opacity: 0.2; }
        }

        .mist-layer {
            position: absolute;
            width: 140%;
            height: 120%;
            background: linear-gradient(90deg, transparent, rgba(139, 0, 0, 0.04), transparent);
            filter: blur(100px);
            animation: mistDrift 25s ease-in-out infinite;
            pointer-events: none;
        }

        /* Section Transitions */
        .section-transition {
            position: relative;
            height: 200px;
            background: linear-gradient(to bottom, var(--void) 0%, transparent 50%, var(--charcoal) 100%);
            pointer-events: none;
            z-index: 5;
        }

        .section-transition.reverse {
            background: linear-gradient(to bottom, var(--charcoal) 0%, transparent 50%, var(--void) 100%);
        }

        /* Crimson Glow */
        .crimson-glow {
            text-shadow: 0 0 40px rgba(139, 0, 0, 0.4), 0 0 80px rgba(139, 0, 0, 0.2);
        }

        /* Navigation - Fades into background */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 1.5rem 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            background: linear-gradient(to bottom, rgba(10,10,10,0.7) 0%, transparent 100%);
            backdrop-filter: blur(8px);
        }

        /* Antler SVG Logo */
        .nav-logo {
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .antler-svg {
            width: 42px;
            height: 42px;
            filter: drop-shadow(0 0 12px rgba(139, 0, 0, 0.6)) drop-shadow(0 0 25px rgba(139, 0, 0, 0.3));
            transition: filter 0.4s ease;
        }

        .antler-svg:hover {
            filter: drop-shadow(0 0 18px rgba(139, 0, 0, 0.8)) drop-shadow(0 0 35px rgba(139, 0, 0, 0.5));
        }

        .antler-svg path {
            stroke: var(--bone);
            stroke-width: 0.8;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
        }

        .nav-links a {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: var(--bone-dim);
            text-decoration: none;
            transition: all 0.4s ease;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--crimson-glow);
            transition: width 0.4s ease;
            box-shadow: 0 0 10px var(--crimson-glow);
        }

        .nav-links a:hover {
            color: var(--bone);
            text-shadow: 0 0 15px rgba(139, 0, 0, 0.5);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* Section Base - Seamless flow */
        section {
            position: relative;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 4rem 2rem;
        }

        /* HERO SECTION - Atmospheric blending */
        #hero {
            background: var(--void);
            position: relative;
            overflow: hidden;
        }

        #hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(ellipse at 20% 80%, rgba(139, 0, 0, 0.12) 0%, transparent 55%),
                radial-gradient(ellipse at 80% 20%, rgba(139, 0, 0, 0.08) 0%, transparent 45%);
            pointer-events: none;
        }

        .hero-content {
            text-align: center;
            z-index: 10;
            max-width: 900px;
        }

        .hero-symbol {
            font-size: 4rem;
            margin-bottom: 2rem;
            opacity: 0.5;
            animation: gentleFloat 6s ease-in-out infinite;
        }

        @keyframes gentleFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .hero-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(4rem, 12vw, 8rem);
            font-weight: 300;
            letter-spacing: 0.2em;
            margin-bottom: 1rem;
            color: var(--bone);
        }

        .hero-title span {
            color: var(--crimson-glow);
            text-shadow: 0 0 40px rgba(139, 0, 0, 0.4);
        }

        .hero-tagline {
            font-family: 'Crimson Text', serif;
            font-size: 1.3rem;
            font-style: italic;
            color: var(--bone-dim);
            margin-bottom: 3rem;
            letter-spacing: 0.05em;
        }

        /* Contract box - Fades into background */
        .contract-box {
            display: inline-flex;
            align-items: center;
            gap: 1rem;
            background: linear-gradient(135deg, rgba(17, 17, 17, 0.5), rgba(10, 10, 10, 0.3));
            border: 1px solid rgba(139, 0, 0, 0.2);
            padding: 1rem 2rem;
            margin-bottom: 2rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
            box-shadow: 
                0 0 40px rgba(0, 0, 0, 0.5),
                inset 0 0 30px rgba(139, 0, 0, 0.05);
            backdrop-filter: blur(10px);
            transition: all 0.4s ease;
        }

        .contract-box:hover {
            border-color: rgba(139, 0, 0, 0.4);
            box-shadow: 
                0 0 50px rgba(139, 0, 0, 0.15),
                inset 0 0 30px rgba(139, 0, 0, 0.08);
        }

        .contract-address {
            color: var(--bone-dim);
        }

        .copy-btn {
            background: transparent;
            border: 1px solid rgba(139, 0, 0, 0.4);
            color: var(--crimson-glow);
            padding: 0.5rem 1rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            letter-spacing: 0.1em;
            cursor: pointer;
            transition: all 0.4s ease;
        }

        .copy-btn:hover {
            background: rgba(139, 0, 0, 0.2);
            border-color: var(--crimson-glow);
            box-shadow: 0 0 20px rgba(139, 0, 0, 0.3);
        }

        .hero-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Ritual buttons - Atmospheric blending */
        .ritual-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 2.5rem;
            background: linear-gradient(135deg, rgba(17, 17, 17, 0.4), rgba(10, 10, 10, 0.2));
            border: 1px solid rgba(139, 0, 0, 0.25);
            color: var(--bone);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .ritual-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(139, 0, 0, 0.15), transparent);
            transition: left 0.6s ease;
        }

        .ritual-btn:hover::before {
            left: 100%;
        }

        .ritual-btn:hover {
            border-color: rgba(139, 0, 0, 0.6);
            box-shadow: 
                0 0 40px rgba(139, 0, 0, 0.2),
                inset 0 0 20px rgba(139, 0, 0, 0.05);
            transform: translateY(-2px);
        }

        .ritual-btn.primary {
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.12), rgba(139, 0, 0, 0.03));
        }

        /* VOTING DASHBOARD SECTION */
        #voting {
            background: var(--charcoal);
            position: relative;
            min-height: auto;
            padding: 6rem 2rem 8rem;
        }

        #voting::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(ellipse at 30% 20%, rgba(139, 0, 0, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 80%, rgba(139, 0, 0, 0.06) 0%, transparent 40%);
            pointer-events: none;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
            position: relative;
            z-index: 10;
        }

        .section-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 300;
            letter-spacing: 0.15em;
            margin-bottom: 1rem;
        }

        .section-title span {
            color: var(--crimson-glow);
            text-shadow: 0 0 30px rgba(139, 0, 0, 0.3);
        }

        .section-subtitle {
            font-family: 'Crimson Text', serif;
            font-size: 1.1rem;
            font-style: italic;
            color: var(--bone-dim);
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.8;
        }

        .voting-dashboard {
            width: 100%;
            max-width: 1100px;
            z-index: 10;
            position: relative;
        }

        .voting-intro {
            text-align: center;
            margin-bottom: 4rem;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(17, 17, 17, 0.3), transparent);
            border-left: 1px solid rgba(139, 0, 0, 0.2);
            border-right: 1px solid rgba(139, 0, 0, 0.2);
        }

        .voting-intro p {
            font-size: 1.1rem;
            color: var(--bone-dim);
            font-style: italic;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Voting Cards - Atmospheric blending */
        .voting-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 1.5rem;
        }

        .voting-card {
            background: linear-gradient(180deg, rgba(17, 17, 17, 0.4) 0%, rgba(10, 10, 10, 0.2) 100%);
            border: 1px solid rgba(139, 0, 0, 0.15);
            padding: 2rem;
            cursor: pointer;
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .voting-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(139, 0, 0, 0.4), transparent);
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .voting-card:hover::before {
            opacity: 1;
        }

        .voting-card:hover {
            border-color: rgba(139, 0, 0, 0.35);
            transform: translateY(-3px);
            box-shadow: 
                0 15px 50px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(139, 0, 0, 0.1);
        }

        .voting-card.voted {
            border-color: rgba(139, 0, 0, 0.5);
            background: linear-gradient(180deg, rgba(139, 0, 0, 0.08) 0%, rgba(10, 10, 10, 0.2) 100%);
        }

        .voting-card.disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .voting-card.disabled:hover {
            transform: none;
            border-color: rgba(139, 0, 0, 0.15);
        }

        .mechanism-icon {
            font-size: 2.2rem;
            margin-bottom: 1rem;
            opacity: 0.8;
        }

        .mechanism-name {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: var(--crimson-glow);
            margin-bottom: 0.5rem;
            text-shadow: 0 0 10px rgba(139, 0, 0, 0.3);
        }

        .mechanism-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.6rem;
            font-weight: 300;
            margin-bottom: 1rem;
            letter-spacing: 0.05em;
        }

        .mechanism-desc {
            font-size: 0.95rem;
            color: var(--bone-dim);
            line-height: 1.7;
            margin-bottom: 1.5rem;
        }

        /* Vote Bar - Crimson glow */
        .vote-bar-container {
            margin-bottom: 1rem;
        }

        .vote-bar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .vote-count {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--bone-dim);
            letter-spacing: 0.1em;
        }

        .vote-percentage {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: var(--crimson-glow);
            text-shadow: 0 0 10px rgba(139, 0, 0, 0.4);
        }

        .vote-bar-bg {
            height: 6px;
            background: rgba(139, 0, 0, 0.1);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
        }

        .vote-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, rgba(139, 0, 0, 0.6), var(--crimson-glow));
            border-radius: 3px;
            transition: width 1s ease;
            position: relative;
            box-shadow: 0 0 15px rgba(139, 0, 0, 0.4);
        }

        .vote-bar-fill::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 20px;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2));
        }

        /* Vote Button */
        .vote-btn {
            width: 100%;
            padding: 0.9rem;
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.15), rgba(139, 0, 0, 0.05));
            border: 1px solid rgba(139, 0, 0, 0.3);
            color: var(--bone);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .vote-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(139, 0, 0, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .vote-btn:hover::before {
            left: 100%;
        }

        .vote-btn:hover {
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.25), rgba(139, 0, 0, 0.1));
            border-color: rgba(139, 0, 0, 0.5);
            box-shadow: 0 0 25px rgba(139, 0, 0, 0.25);
        }

        .vote-btn:disabled {
            background: rgba(17, 17, 17, 0.3);
            border-color: rgba(139, 0, 0, 0.15);
            color: var(--bone-dim);
            cursor: not-allowed;
        }

        .vote-btn:disabled:hover {
            box-shadow: none;
        }

        .vote-btn.voted {
            background: rgba(139, 0, 0, 0.2);
            border-color: rgba(139, 0, 0, 0.5);
        }

        /* Vote message */
        .vote-message {
            text-align: center;
            margin-top: 3rem;
            padding: 1.5rem;
            font-style: italic;
            color: var(--bone-dim);
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .vote-message.visible {
            opacity: 1;
        }

        /* QUOTE GENERATOR SECTION */
        #wisdom {
            background: var(--void);
            position: relative;
        }

        #wisdom::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at 50% 50%, rgba(139, 0, 0, 0.05) 0%, transparent 60%);
            pointer-events: none;
        }

        .wisdom-container {
            width: 100%;
            max-width: 800px;
            text-align: center;
            z-index: 10;
            position: relative;
        }

        .mode-selector {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .mode-btn {
            padding: 0.8rem 1.5rem;
            background: linear-gradient(135deg, rgba(17, 17, 17, 0.3), transparent);
            border: 1px solid rgba(139, 0, 0, 0.2);
            color: var(--bone-dim);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            letter-spacing: 0.15em;
            cursor: pointer;
            transition: all 0.4s ease;
            backdrop-filter: blur(5px);
        }

        .mode-btn:hover, .mode-btn.active {
            border-color: rgba(139, 0, 0, 0.5);
            color: var(--bone);
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.1), rgba(139, 0, 0, 0.03));
            box-shadow: 0 0 20px rgba(139, 0, 0, 0.15);
        }

        .quote-display {
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-bottom: 3rem;
            position: relative;
            padding: 3rem;
            background: linear-gradient(135deg, rgba(17, 17, 17, 0.2), transparent);
            border-left: 1px solid rgba(139, 0, 0, 0.15);
            border-right: 1px solid rgba(139, 0, 0, 0.15);
        }

        .quote-text {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(1.5rem, 4vw, 2.2rem);
            font-weight: 300;
            line-height: 1.6;
            color: var(--bone);
            opacity: 0;
            transition: opacity 0.8s ease;
            max-width: 700px;
        }

        .quote-text.visible {
            opacity: 1;
        }

        .quote-text::before {
            content: '"';
            font-size: 5rem;
            color: var(--crimson);
            opacity: 0.2;
            position: absolute;
            top: 0.5rem;
            left: 1.5rem;
            font-family: 'Cormorant Garamond', serif;
        }

        .wisdom-actions {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
        }

        /* FOUR MECHANISMS SECTION */
        #mechanisms {
            background: var(--charcoal);
            position: relative;
            min-height: auto;
            padding: 6rem 2rem;
        }

        #mechanisms::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(ellipse at 15% 30%, rgba(139, 0, 0, 0.06) 0%, transparent 40%),
                radial-gradient(ellipse at 85% 70%, rgba(139, 0, 0, 0.05) 0%, transparent 35%);
            pointer-events: none;
        }

        .mechanisms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            width: 100%;
            max-width: 1200px;
            z-index: 10;
            position: relative;
        }

        .mechanism-card {
            background: linear-gradient(180deg, rgba(17, 17, 17, 0.35) 0%, rgba(10, 10, 10, 0.15) 100%);
            border: 1px solid rgba(139, 0, 0, 0.12);
            padding: 2.5rem;
            cursor: pointer;
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .mechanism-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(139, 0, 0, 0.5), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .mechanism-card:hover::before {
            transform: translateX(100%);
        }

        .mechanism-card:hover {
            border-color: rgba(139, 0, 0, 0.3);
            transform: translateY(-4px);
            box-shadow: 
                0 15px 50px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(139, 0, 0, 0.1);
        }

        .mechanism-card .mechanism-icon {
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
        }

        .mechanism-card .mechanism-name {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: var(--crimson-glow);
            margin-bottom: 0.5rem;
            text-shadow: 0 0 10px rgba(139, 0, 0, 0.3);
        }

        .mechanism-card .mechanism-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.7rem;
            font-weight: 300;
            margin-bottom: 1rem;
        }

        .mechanism-card .mechanism-desc {
            font-size: 0.95rem;
            color: var(--bone-dim);
            line-height: 1.7;
        }

        .mechanism-hint {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.6rem;
            color: var(--crimson);
            margin-top: 1.5rem;
            opacity: 0.6;
            letter-spacing: 0.1em;
        }

        /* AUDIO SYSTEM */
        #audio-system {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 200;
        }

        .audio-panel {
            background: linear-gradient(135deg, rgba(13, 13, 13, 0.95), rgba(10, 10, 10, 0.9));
            border: 1px solid rgba(139, 0, 0, 0.25);
            border-radius: 50%;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 10px 40px rgba(0, 0, 0, 0.5),
                0 0 30px rgba(139, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .audio-panel:hover {
            border-color: rgba(139, 0, 0, 0.5);
            box-shadow: 
                0 10px 40px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(139, 0, 0, 0.2);
        }

        .audio-panel.expanded {
            width: 380px;
            height: auto;
            border-radius: 12px;
            padding: 1.5rem;
            cursor: default;
        }

        .audio-disc {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            box-shadow: 0 0 20px rgba(139, 0, 0, 0.3);
        }

        .audio-content {
            display: none;
            width: 100%;
        }

        .audio-panel.expanded .audio-content {
            display: block;
        }

        .audio-panel.expanded .audio-disc {
            display: none;
        }

        .audio-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .audio-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            letter-spacing: 0.15em;
            color: var(--bone-dim);
        }

        .audio-close {
            background: transparent;
            border: none;
            color: var(--bone-dim);
            cursor: pointer;
            font-size: 1.3rem;
            transition: all 0.3s ease;
        }

        .audio-close:hover {
            color: var(--crimson-glow);
            text-shadow: 0 0 10px rgba(139, 0, 0, 0.5);
        }

        .now-playing {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1rem;
        }

        .np-disc {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            flex-shrink: 0;
            box-shadow: 0 0 20px rgba(139, 0, 0, 0.3);
        }

        .np-info {
            flex: 1;
        }

        .np-track {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1rem;
            color: var(--bone);
            margin-bottom: 0.25rem;
        }

        .np-status {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.6rem;
            color: var(--crimson);
            letter-spacing: 0.1em;
        }

        .audio-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .control-btn {
            background: transparent;
            border: 1px solid rgba(139, 0, 0, 0.3);
            color: var(--bone);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8rem;
        }

        .control-btn:hover {
            border-color: rgba(139, 0, 0, 0.6);
            background: rgba(139, 0, 0, 0.1);
            box-shadow: 0 0 15px rgba(139, 0, 0, 0.2);
        }

        .control-btn.play {
            width: 44px;
            height: 44px;
            background: rgba(139, 0, 0, 0.15);
        }

        .progress-container {
            flex: 1;
            height: 4px;
            background: rgba(139, 0, 0, 0.15);
            border-radius: 2px;
            cursor: pointer;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--crimson), var(--crimson-glow));
            border-radius: 2px;
            width: 0%;
            transition: width 0.1s linear;
            box-shadow: 0 0 10px rgba(139, 0, 0, 0.4);
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .volume-slider {
            width: 80px;
            height: 4px;
            background: rgba(139, 0, 0, 0.15);
            border-radius: 2px;
            cursor: pointer;
            position: relative;
        }

        .volume-level {
            height: 100%;
            background: var(--crimson);
            border-radius: 2px;
            width: 70%;
            box-shadow: 0 0 8px rgba(139, 0, 0, 0.4);
        }

        .playlist-toggle {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.6rem;
            color: var(--bone-dim);
            background: transparent;
            border: none;
            cursor: pointer;
            margin-top: 1rem;
            letter-spacing: 0.15em;
            transition: all 0.3s ease;
        }

        .playlist-toggle:hover {
            color: var(--crimson-glow);
            text-shadow: 0 0 10px rgba(139, 0, 0, 0.3);
        }

        .playlist {
            display: none;
            margin-top: 1rem;
            max-height: 200px;
            overflow-y: auto;
        }

        .playlist.visible {
            display: block;
        }

        .playlist-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 2px solid transparent;
        }

        .playlist-item:hover, .playlist-item.active {
            background: rgba(139, 0, 0, 0.08);
            border-left-color: var(--crimson);
        }

        .playlist-item img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 0 0 10px rgba(139, 0, 0, 0.2);
        }

        .playlist-item span {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: var(--bone-dim);
        }

        .playlist-item.active span {
            color: var(--bone);
        }

        /* FOOTER - Atmospheric blending */
        footer {
            background: var(--void);
            padding: 5rem 2rem 3rem;
            text-align: center;
            position: relative;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(139, 0, 0, 0.2), transparent);
        }

        .footer-quote {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.6rem;
            font-style: italic;
            color: var(--bone);
            margin-bottom: 3rem;
            opacity: 0.9;
        }

        .footer-quote span {
            color: var(--crimson-glow);
            text-shadow: 0 0 20px rgba(139, 0, 0, 0.3);
        }

        .footer-links {
            display: flex;
            gap: 2.5rem;
            justify-content: center;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .footer-links a {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            letter-spacing: 0.15em;
            color: var(--bone-dim);
            text-decoration: none;
            transition: all 0.4s ease;
            position: relative;
        }

        .footer-links a::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--crimson-glow);
            transition: width 0.4s ease;
            box-shadow: 0 0 10px var(--crimson-glow);
        }

        .footer-links a:hover {
            color: var(--bone);
            text-shadow: 0 0 15px rgba(139, 0, 0, 0.4);
        }

        .footer-links a:hover::after {
            width: 100%;
        }

        .footer-disclaimer {
            font-size: 0.7rem;
            color: var(--bone-dim);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.7;
            opacity: 0.5;
        }

        /* MODAL - Atmospheric blending */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 500;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
            backdrop-filter: blur(10px);
        }

        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(17, 17, 17, 0.9), rgba(10, 10, 10, 0.8));
            border: 1px solid rgba(139, 0, 0, 0.25);
            padding: 3rem;
            max-width: 600px;
            width: 90%;
            position: relative;
            transform: translateY(30px);
            transition: transform 0.5s ease;
            backdrop-filter: blur(15px);
            box-shadow: 
                0 30px 80px rgba(0, 0, 0, 0.6),
                0 0 60px rgba(139, 0, 0, 0.1);
        }

        .modal-overlay.visible .modal-content {
            transform: translateY(0);
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: transparent;
            border: none;
            color: var(--bone-dim);
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            color: var(--crimson-glow);
            text-shadow: 0 0 15px rgba(139, 0, 0, 0.5);
        }

        .modal-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            margin-bottom: 0.5rem;
            font-weight: 300;
        }

        .modal-subtitle {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: var(--crimson-glow);
            letter-spacing: 0.2em;
            margin-bottom: 1.5rem;
            text-shadow: 0 0 10px rgba(139, 0, 0, 0.3);
        }

        .modal-text {
            font-size: 1rem;
            line-height: 1.9;
            color: var(--bone-dim);
        }

        /* Responsive */
        @media (max-width: 768px) {
            nav {
                padding: 1rem;
            }

            .antler-svg {
                width: 36px;
                height: 36px;
            }

            .nav-links {
                display: none;
            }

            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }

            .mode-selector {
                flex-direction: column;
                align-items: center;
            }

            .voting-grid, .mechanisms-grid {
                grid-template-columns: 1fr;
            }

            #audio-system {
                bottom: 1rem;
                right: 1rem;
            }

            .audio-panel.expanded {
                width: calc(100vw - 2rem);
                max-width: 350px;
            }

            .quote-display {
                padding: 2rem 1.5rem;
            }

            .footer-links {
                gap: 1.5rem;
            }
        }
    </style>
<base target="_blank">
</head>
<body>
    <!-- Atmosphere Layers -->
    <div class="grain-overlay"></div>
    <div class="vignette"></div>

    <!-- Navigation -->
    <nav>
        <a href="#" class="nav-logo">
            <!-- Minimal Vector Antlers SVG -->
            <svg class="antler-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <!-- Left Antler -->
                <path d="M50 85 Q50 70 45 55 Q40 40 30 30 Q25 25 20 22"/>
                <path d="M45 55 Q35 50 28 45 Q22 40 18 35"/>
                <path d="M40 42 Q32 38 26 33 Q22 30 20 26"/>
                <path d="M35 32 Q28 28 24 24"/>
                <!-- Right Antler -->
                <path d="M50 85 Q50 70 55 55 Q60 40 70 30 Q75 25 80 22"/>
                <path d="M55 55 Q65 50 72 45 Q78 40 82 35"/>
                <path d="M60 42 Q68 38 74 33 Q78 30 80 26"/>
                <path d="M65 32 Q72 28 76 24"/>
                <!-- Center beam detail -->
                <path d="M50 85 L50 75" stroke-width="0.5"/>
            </svg>
        </a>
        <div class="nav-links">
            <a href="#voting">The Burden</a>
            <a href="#wisdom">Wisdom</a>
            <a href="#mechanisms">Mechanisms</a>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section id="hero">
        <div class="mist-layer"></div>
        <div class="hero-content">
            <div class="hero-symbol">&#119070;</div>
            <h1 class="hero-title">$<span>ELK</span></h1>
            <p class="hero-tagline">The burden becomes beautiful when shared.</p>
            
            <div class="contract-box">
                <span class="contract-address">8DaLPxatThHR6ZMx62QtvA6vZ1oJaEKA6gWoQxjGpump</span>
                <button class="copy-btn" onclick="copyContract()">Copy Contract</button>
            </div>
            
            <div class="hero-buttons">
                <a href="https://pump.fun/coin/8DaLPxatThHR6ZMx62QtvA6vZ1oJaEKA6gWoQxjGpump" class="ritual-btn primary" target="_blank">
                    <span>&#9830;</span> Buy on Pump.fun
                </a>
                <a href="https://birdeye.so/token/8DaLPxatThHR6ZMx62QtvA6vZ1oJaEKA6gWoQxjGpump?chain=solana" class="ritual-btn" target="_blank">
                    <span>&#9670;</span> View Chart
                </a>
                <a href="https://x.com/ElkBurden" class="ritual-btn" target="_blank">
                    <span>&#10022;</span> Follow on X
                </a>
            </div>
        </div>
    </section>

    <!-- Section Transition -->
    <div class="section-transition"></div>

    <!-- VOTING DASHBOARD SECTION -->
    <section id="voting">
        <div class="mist-layer"></div>
        <div class="voting-dashboard">
            <div class="section-header">
                <h2 class="section-title">The Four <span>Mechanisms</span></h2>
                <p class="section-subtitle">Inspired by Peter Wessel Zapffe's philosophy, $ELK transforms existential coping into community-driven action. Our treasury serves the four mechanisms through which we endure the burden of consciousness.</p>
            </div>
            
            <div class="voting-intro">
                <p>Which mechanism should the community emphasize? Cast your burden. One expression per day.</p>
            </div>
            
            <div class="voting-grid">
                <div class="voting-card" data-mechanism="isolation">
                    <div class="mechanism-icon">&#128293;</div>
                    <div class="mechanism-name">Burn</div>
                    <div class="mechanism-title">Isolation</div>
                    <div class="mechanism-desc">Permanently remove tokens from circulation. Suppress the noise, reduce the supply, face the void.</div>
                    <div class="vote-bar-container">
                        <div class="vote-bar-header">
                            <span class="vote-count"><span class="count">0</span> burdens</span>
                            <span class="vote-percentage">0%</span>
                        </div>
                        <div class="vote-bar-bg">
                            <div class="vote-bar-fill" style="width: 0%"></div>
                        </div>
                    </div>
                    <button class="vote-btn" onclick="vote('isolation')">Cast Your Burden</button>
                </div>
                
                <div class="voting-card" data-mechanism="anchoring">
                    <div class="mechanism-icon">&#9874;</div>
                    <div class="mechanism-name">Lock</div>
                    <div class="mechanism-title">Anchoring</div>
                    <div class="mechanism-desc">Lock liquidity permanently. Cling to structure and stability in the chaos of markets.</div>
                    <div class="vote-bar-container">
                        <div class="vote-bar-header">
                            <span class="vote-count"><span class="count">0</span> burdens</span>
                            <span class="vote-percentage">0%</span>
                        </div>
                        <div class="vote-bar-bg">
                            <div class="vote-bar-fill" style="width: 0%"></div>
                        </div>
                    </div>
                    <button class="vote-btn" onclick="vote('anchoring')">Cast Your Burden</button>
                </div>
                
                <div class="voting-card" data-mechanism="distraction">
                    <div class="mechanism-icon">&#127912;</div>
                    <div class="mechanism-name">Meme</div>
                    <div class="mechanism-title">Distraction</div>
                    <div class="mechanism-desc">Fund marketing, raids, and content creation. Divert attention through activity and spectacle.</div>
                    <div class="vote-bar-container">
                        <div class="vote-bar-header">
                            <span class="vote-count"><span class="count">0</span> burdens</span>
                            <span class="vote-percentage">0%</span>
                        </div>
                        <div class="vote-bar-bg">
                            <div class="vote-bar-fill" style="width: 0%"></div>
                        </div>
                    </div>
                    <button class="vote-btn" onclick="vote('distraction')">Cast Your Burden</button>
                </div>
                
                <div class="voting-card" data-mechanism="sublimation">
                    <div class="mechanism-icon">&#128218;</div>
                    <div class="mechanism-name">Learn</div>
                    <div class="mechanism-title">Sublimation</div>
                    <div class="mechanism-desc">Support philosophy, education, and meaning-making. Transform suffering into wisdom.</div>
                    <div class="vote-bar-container">
                        <div class="vote-bar-header">
                            <span class="vote-count"><span class="count">0</span> burdens</span>
                            <span class="vote-percentage">0%</span>
                        </div>
                        <div class="vote-bar-bg">
                            <div class="vote-bar-fill" style="width: 0%"></div>
                        </div>
                    </div>
                    <button class="vote-btn" onclick="vote('sublimation')">Cast Your Burden</button>
                </div>
            </div>
            
            <div class="vote-message" id="voteMessage"></div>
        </div>
    </section>

    <!-- Section Transition -->
    <div class="section-transition reverse"></div>

    <!-- WISDOM GENERATOR SECTION -->
    <section id="wisdom">
        <div class="mist-layer"></div>
        <div class="wisdom-container">
            <div class="section-header">
                <h2 class="section-title">Philosophical <span>Wisdom</span></h2>
                <p class="section-subtitle">Explore the depths of existential thought</p>
            </div>
            
            <div class="mode-selector">
                <button class="mode-btn active" data-mode="existential">&#127775; Existential</button>
                <button class="mode-btn" data-mode="degen">&#128640; Degen</button>
                <button class="mode-btn" data-mode="elk">&#129420; Elk Wisdom</button>
                <button class="mode-btn" data-mode="contemplative">&#127807; Contemplative</button>
            </div>
            
            <div class="quote-display">
                <div class="quote-text visible" id="quoteText">The antlers are heavy, but in their weight we find our purpose—not despite the burden, but because of it.</div>
            </div>
            
            <div class="wisdom-actions">
                <button class="ritual-btn" onclick="generateWisdom()">
                    <span>&#10023;</span> Generate Wisdom
                </button>
                <button class="ritual-btn" onclick="copyWisdom()">
                    <span>&#10064;</span> Copy Wisdom
                </button>
            </div>
        </div>
    </section>

    <!-- Section Transition -->
    <div class="section-transition"></div>

    <!-- FOUR MECHANISMS SECTION -->
    <section id="mechanisms">
        <div class="section-header">
            <h2 class="section-title">Understand the <span>Mechanisms</span></h2>
            <p class="section-subtitle">Click to explore the philosophical foundations of each mechanism</p>
        </div>
        
        <div class="mechanisms-grid">
            <div class="mechanism-card" onclick="openModal('isolation')">
                <div class="mechanism-icon">&#128293;</div>
                <div class="mechanism-name">Burn</div>
                <div class="mechanism-title">Isolation</div>
                <div class="mechanism-desc">Permanently remove tokens from circulation. Suppress the noise, reduce the supply, face the void.</div>
                <div class="mechanism-hint">Click to explore deeper &rarr;</div>
            </div>
            
            <div class="mechanism-card" onclick="openModal('anchoring')">
                <div class="mechanism-icon">&#9874;</div>
                <div class="mechanism-name">Lock</div>
                <div class="mechanism-title">Anchoring</div>
                <div class="mechanism-desc">Lock liquidity permanently. Cling to structure and stability in the chaos of markets.</div>
                <div class="mechanism-hint">Click to explore deeper &rarr;</div>
            </div>
            
            <div class="mechanism-card" onclick="openModal('distraction')">
                <div class="mechanism-icon">&#127912;</div>
                <div class="mechanism-name">Meme</div>
                <div class="mechanism-title">Distraction</div>
                <div class="mechanism-desc">Fund marketing, raids, and content creation. Divert attention through activity and spectacle.</div>
                <div class="mechanism-hint">Click to explore deeper &rarr;</div>
            </div>
            
            <div class="mechanism-card" onclick="openModal('sublimation')">
                <div class="mechanism-icon">&#128218;</div>
                <div class="mechanism-name">Learn</div>
                <div class="mechanism-title">Sublimation</div>
                <div class="mechanism-desc">Support philosophy, education, and meaning-making. Transform suffering into wisdom.</div>
                <div class="mechanism-hint">Click to explore deeper &rarr;</div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <p class="footer-quote">"The antlers are heavy. <span>We carry them together.</span>"</p>
        <div class="footer-links">
            <a href="https://x.com/ElkBurden" target="_blank">X / Twitter</a>
            <a href="https://pump.fun/coin/8DaLPxatThHR6ZMx62QtvA6vZ1oJaEKA6gWoQxjGpump" target="_blank">Pump.fun</a>
            <a href="https://birdeye.so/token/8DaLPxatThHR6ZMx62QtvA6vZ1oJaEKA6gWoQxjGpump?chain=solana" target="_blank">Birdeye</a>
            <a href="https://solscan.io/token/8DaLPxatThHR6ZMx62QtvA6vZ1oJaEKA6gWoQxjGpump" target="_blank">Solscan</a>
        </div>
        <p class="footer-disclaimer">
            $ELK is a memecoin with no intrinsic value or expectation of financial return. Participation carries risk. 
            This is for informational purposes only and does not constitute investment advice.
        </p>
    </footer>

    <!-- AUDIO SYSTEM -->
    <div id="audio-system">
        <div class="audio-panel" id="audioPanel" onclick="toggleAudioPanel(event)">
            <div class="audio-disc" id="audioDisc"></div>
            <div class="audio-content">
                <div class="audio-header">
                    <span class="audio-title">Ritual Atmosphere</span>
                    <button class="audio-close" onclick="closeAudioPanel(event)">&times;</button>
                </div>
                <div class="now-playing">
                    <div class="np-disc" id="npDisc"></div>
                    <div class="np-info">
                        <div class="np-track" id="npTrack">The Antler Resonance</div>
                        <div class="np-status" id="npStatus">Ready</div>
                    </div>
                </div>
                <div class="audio-controls">
                    <button class="control-btn" onclick="prevTrack(event)">&#9664;</button>
                    <button class="control-btn play" id="playBtn" onclick="togglePlay(event)">&#9654;</button>
                    <button class="control-btn" onclick="nextTrack(event)">&#9654;</button>
                    <div class="progress-container" onclick="seekTrack(event)">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                </div>
                <div class="volume-control">
                    <span>&#128266;</span>
                    <div class="volume-slider" onclick="setVolume(event)">
                        <div class="volume-level" id="volumeLevel"></div>
                    </div>
                </div>
                <button class="playlist-toggle" onclick="togglePlaylist(event)">&#9660; Show Playlist</button>
                <div class="playlist" id="playlist"></div>
            </div>
        </div>
    </div>

    <!-- MODAL -->
    <div class="modal-overlay" id="modal" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <h3 class="modal-title" id="modalTitle"></h3>
            <div class="modal-subtitle" id="modalSubtitle"></div>
            <p class="modal-text" id="modalText"></p>
        </div>
    </div>

    <script>

        // Audio tracks from GitHub repo
        const tracks = [
            { name: "Before the Clearing", file: "Before%20the%20Clearing" },
            { name: "Crimson Twilight", file: "Crimson%20Twilight" },
            { name: "Echoes Where Meaning Was", file: "Echoes%20Where%20Meaning%20Was" },
            { name: "Eternal Weight", file: "Eternal%20Weight" },
            { name: "Forest Depths", file: "Forest%20Depths" },
            { name: "Herd Gathering", file: "Herd%20Gathering" },
            { name: "Herd Through the Valley", file: "Herd%20Through%20the%20Valley" },
            { name: "Migration of the Burdened", file: "Migration%20of%20the%20Burdened" },
            { name: "Mountain Echo", file: "Mountain%20Echo" },
            { name: "No Elk Walks Alone", file: "No%20Elk%20Walks%20Alone" },
            { name: "Signal from the Ridge", file: "Signal%20from%20the%20Ridge" },
            { name: "The Burden", file: "The%20Burden" },
            { name: "The Herd Remembers", file: "The%20Herd%20Remembers" },
            { name: "The Weight of Knowing", file: "The%20Weight%20of%20Knowing" },
            { name: "Turning Ash to Altar", file: "Turning%20Ash%20to%20Altar" },
            { name: "What Consciousness Costs", file: "What%20Consciousness%20Costs" }
        ];

        const baseUrl = "https://raw.githubusercontent.com/exelkonsol/elk/main/";
        let currentTrackIndex = 0;
        let audio = new Audio();
        let isPlaying = false;

        // Initialize audio system
        function initAudio() {
            const playlist = document.getElementById('playlist');
            tracks.forEach((track, index) => {
                const item = document.createElement('div');
                item.className = 'playlist-item' + (index === 0 ? ' active' : '');
                item.onclick = (e) => { e.stopPropagation(); loadTrack(index); };
                item.innerHTML = `
                    <img src="${baseUrl}${track.file}.png" alt="${track.name}">
                    <span>${track.name}</span>
                `;
                playlist.appendChild(item);
            });

            // Set initial artwork
            updateArtwork();
        }

        function updateArtwork() {
            const artwork = `url('${baseUrl}${tracks[currentTrackIndex].file}.png')`;
            document.getElementById('audioDisc').style.backgroundImage = artwork;
            document.getElementById('npDisc').style.backgroundImage = artwork;
        }

        function toggleAudioPanel(e) {
            if (e.target.closest('.audio-content')) return;
            document.getElementById('audioPanel').classList.toggle('expanded');
        }

        function closeAudioPanel(e) {
            e.stopPropagation();
            document.getElementById('audioPanel').classList.remove('expanded');
        }

        function loadTrack(index) {
            currentTrackIndex = index;
            audio.src = `${baseUrl}${tracks[index].file}.mp3`;
            document.getElementById('npTrack').textContent = tracks[index].name;
            updateArtwork();
            updatePlaylist();
            if (isPlaying) {
                audio.play();
            }
        }

        function togglePlay(e) {
            e.stopPropagation();
            if (!audio.src) {
                loadTrack(currentTrackIndex);
            }
            
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
                document.getElementById('playBtn').innerHTML = '&#9654;';
                document.getElementById('npStatus').textContent = 'Paused';
            } else {
                audio.play();
                isPlaying = true;
                document.getElementById('playBtn').innerHTML = '&#10074;&#10074;';
                document.getElementById('npStatus').textContent = 'Playing';
            }
        }

        function prevTrack(e) {
            e.stopPropagation();
            currentTrackIndex = (currentTrackIndex - 1 + tracks.length) % tracks.length;
            loadTrack(currentTrackIndex);
            if (isPlaying) audio.play();
        }

        function nextTrack(e) {
            e.stopPropagation();
            currentTrackIndex = (currentTrackIndex + 1) % tracks.length;
            loadTrack(currentTrackIndex);
            if (isPlaying) audio.play();
        }

        function seekTrack(e) {
            e.stopPropagation();
            const rect = e.currentTarget.getBoundingClientRect();
            const percent = (e.clientX - rect.left) / rect.width;
            if (audio.duration) {
                audio.currentTime = percent * audio.duration;
            }
        }

        function setVolume(e) {
            e.stopPropagation();
            const rect = e.currentTarget.getBoundingClientRect();
            const percent = (e.clientX - rect.left) / rect.width;
            audio.volume = Math.max(0, Math.min(1, percent));
            document.getElementById('volumeLevel').style.width = (percent * 100) + '%';
        }

        function togglePlaylist(e) {
            e.stopPropagation();
            const playlist = document.getElementById('playlist');
            playlist.classList.toggle('visible');
            e.target.innerHTML = playlist.classList.contains('visible') ? '&#9650; Hide Playlist' : '&#9660; Show Playlist';
        }

        function updatePlaylist() {
            document.querySelectorAll('.playlist-item').forEach((item, index) => {
                item.classList.toggle('active', index === currentTrackIndex);
            });
        }

        // Update progress bar
        audio.addEventListener('timeupdate', () => {
            if (audio.duration) {
                const percent = (audio.currentTime / audio.duration) * 100;
                document.getElementById('progressBar').style.width = percent + '%';
            }
        });

        audio.addEventListener('ended', () => {
            nextTrack({ stopPropagation: () => {} });
        });

        // ============================================
        // VOTING SYSTEM - Four Mechanisms Dashboard
        // ============================================
        
        // Vote data structure (would be fetched from server)
        let voteData = {
            isolation: 0,
            anchoring: 0,
            distraction: 0,
            sublimation: 0
        };

        // Track if user has voted today (server-side check)
        let hasVotedToday = false;
        let userVotedMechanism = null;

        // Initialize voting system
        async function initVoting() {
            try {
                // Fetch current vote counts from server
                const response = await fetch('/api/votes');
                if (response.ok) {
                    const data = await response.json();
                    voteData = data.votes || voteData;
                    hasVotedToday = data.hasVoted || false;
                    userVotedMechanism = data.userVote || null;
                }
            } catch (error) {
                console.log('Vote API not available, using demo mode');
                // Demo mode - random initial values
                voteData = {
                    isolation: 247,
                    anchoring: 189,
                    distraction: 312,
                    sublimation: 156
                };
            }
            updateVoteDisplay();
            
            if (hasVotedToday && userVotedMechanism) {
                disableVoting(userVotedMechanism);
            }
        }

        function updateVoteDisplay() {
            const total = Object.values(voteData).reduce((a, b) => a + b, 0);
            
            Object.keys(voteData).forEach(mechanism => {
                const card = document.querySelector(`[data-mechanism="${mechanism}"]`);
                if (card) {
                    const count = voteData[mechanism];
                    const percentage = total > 0 ? Math.round((count / total) * 100) : 0;
                    
                    card.querySelector('.count').textContent = count.toLocaleString();
                    card.querySelector('.vote-percentage').textContent = percentage + '%';
                    card.querySelector('.vote-bar-fill').style.width = percentage + '%';
                }
            });
        }

        async function vote(mechanism) {
            if (hasVotedToday) {
                showVoteMessage("You have already expressed your burden today.");
                return;
            }

            const btn = document.querySelector(`[data-mechanism="${mechanism}"] .vote-btn`);
            btn.disabled = true;
            btn.innerHTML = '<span style="opacity: 0.7;">Casting...</span>';

            try {
                // Send vote to server
                const response = await fetch('/api/vote', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ mechanism: mechanism })
                });

                if (response.ok) {
                    const data = await response.json();
                    
                    if (data.success) {
                        // Update local data
                        voteData = data.votes || voteData;
                        hasVotedToday = true;
                        userVotedMechanism = mechanism;
                        
                        updateVoteDisplay();
                        disableVoting(mechanism);
                        showVoteMessage("Your burden has been cast into the collective.");
                    } else if (data.alreadyVoted) {
                        hasVotedToday = true;
                        disableVoting(data.userVote);
                        showVoteMessage("You have already expressed your burden today.");
                    }
                } else {
                    throw new Error('Vote failed');
                }
            } catch (error) {
                console.log('Vote API not available, demo mode');
                // Demo mode - simulate vote
                voteData[mechanism]++;
                hasVotedToday = true;
                userVotedMechanism = mechanism;
                updateVoteDisplay();
                disableVoting(mechanism);
                showVoteMessage("Your burden has been cast into the collective.");
            }
        }

        function disableVoting(votedMechanism) {
            document.querySelectorAll('.voting-card').forEach(card => {
                const mechanism = card.dataset.mechanism;
                const btn = card.querySelector('.vote-btn');
                
                if (mechanism === votedMechanism) {
                    card.classList.add('voted');
                    btn.classList.add('voted');
                    btn.innerHTML = '<span>Burden Cast</span>';
                } else {
                    card.classList.add('disabled');
                }
                
                btn.disabled = true;
            });
        }

        function showVoteMessage(message) {
            const msgEl = document.getElementById('voteMessage');
            msgEl.textContent = message;
            msgEl.classList.add('visible');
            
            setTimeout(() => {
                msgEl.classList.remove('visible');
            }, 5000);
        }

        // ============================================
        // WISDOM GENERATOR
        // ============================================

        const quotes = {
            existential: [
                "The antlers are heavy, but in their weight we find our purpose—not despite the burden, but because of it.",
                "Consciousness is a curse that we have learned to call a gift.",
                "To exist is to carry weight. To carry weight is to exist.",
                "The void stares back, and in its emptiness, we find ourselves.",
                "Meaning is not found—it is forged in the furnace of suffering.",
                "We are all elk in the dark forest, calling out to others who cannot see us.",
                "The heaviest antlers belong to those who think too much.",
                "In the silence between thoughts, the burden speaks loudest.",
                "To be conscious is to be lonely. To be lonely is to be human.",
                "The herd moves as one, yet each carries their own weight.",
                "What we seek in the light, we find only in darkness.",
                "The mountain does not care if you climb it. The burden does not care if you carry it.",
                "Every step forward is a choice to continue bearing what cannot be set down.",
                "We build altars to our suffering and call them meaning.",
                "The elk does not ask why the antlers grow. It simply grows them.",
                "Zapffe knew: consciousness is the wound that never heals.",
                "We are accidents of evolution cursed with the awareness of our own accidentality.",
                "The cosmos is indifferent, yet here we are, carrying our antlers through the snow.",
                "To understand too much is to forgive nothing, especially existence itself.",
                "The forest grows darker the deeper you contemplate it.",
                "Our antlers are the physical manifestation of thoughts that grew too heavy.",
                "Between birth and death, there is only the carrying.",
                "The burden is not optional. Only our awareness of it is.",
                "We are Sisyphus with antlers, and the mountain is our own mind.",
                "The horror is not in the weight, but in the inability to stop weighing.",
                "Each dawn we wake and choose to lift what cannot be lifted.",
                "Philosophical pessimism is not despair—it is honesty.",
                "The elk that stands alone hears echoes no others hear.",
                "Consciousness expands to fill the available space for suffering.",
                "We are trapped in the amber of our own awareness.",
                "The antlers grow regardless of our consent.",
                "To see clearly is to see the futility, yet continue.",
                "The void is not empty; it is full of the weight we cast into it.",
                "Every bugle into the darkness is a prayer to nothing.",
                "We carry the dead with us, their antlers interlocked with ours."
            ],
            degen: [
                "WAGMI? No. We carry the burden together. That's better.",
                "Buy high, contemplate existence higher.",
                "Not financial advice. Just philosophical burden.",
                "Diamond hands are just antlers that never drop.",
                "To the moon? No. To the depths of consciousness.",
                "HODL the burden. It's all we have.",
                "FOMO is just the fear of carrying weight alone.",
                "Apes together strong. Elk together burdened.",
                "When lambo? When you accept the weight of being.",
                "Paper hands drop the burden. Diamond hands transcend it.",
                "It's not a dip. It's a descent into the void.",
                "GM. The burden greets you too.",
                "NGMI is just another word for enlightenment.",
                "The chart is red. So is the blood we share.",
                "Few understand this. Even fewer carry it.",
                "Max bidding on the abyss.",
                "Liquidated by existence.",
                "The mempool is full of unspoken burdens.",
                "Satoshi knew about the antlers.",
                "Smart money accumulates weight.",
                "We're all gonna carry it.",
                "Bear markets build character. And antlers.",
                "Buy the blood. It matches our aesthetic.",
                "The blockchain remembers what you'd rather forget.",
                "Tokenomics of despair."
            ],
            elk: [
                "The elk knows: antlers grown cannot be ungrown.",
                "In the herd, no elk walks alone. In solitude, no elk walks free.",
                "The forest remembers what the elk forgets.",
                "Winter strips the leaves but not the burden.",
                "The old elk carries the heaviest crown.",
                "Bugling into the void, hoping the void bugles back.",
                "Migration is just carrying the burden to new coordinates.",
                "The wolf hunts. The elk endures. Such is the way.",
                "Rivers cross. Mountains remain. Burdens persist.",
                "The calf learns: antlers are not optional.",
                "Tracks in snow. Proof we carried on.",
                "The ridge offers view. The valley offers rest. Both offer burden.",
                "Hooves wear down. The weight does not.",
                "Dawn breaks. The elk rises. The burden rises with it.",
                "To shed antlers is not to shed burden.",
                "The velvet tears. The blood flows. The growth continues.",
                "Elk do not ask why the snow falls. They move through it.",
                "The bugle is a question. The echo is the answer.",
                "A healthy herd shares the watch. A lonely elk shares only with stars.",
                "The antlers catch on branches. So too do our thoughts snag on memory.",
                "Four legs for stability. Two antlers for majesty. One heart for carrying.",
                "The elk does not count the miles. The elk counts the breaths.",
                "Predators strike from shadow. The burden strikes from within.",
                "The meadow offers grass. The mountain offers perspective. Both offer continuation.",
                "An elk without antlers is still an elk. A being without burden is nothing."
            ],
            contemplative: [
                "Sit with the burden. Do not try to solve it.",
                "The breath moves. The burden stays.",
                "In stillness, the weight becomes familiar.",
                "What if the antlers are not a curse but a teacher?",
                "Each moment of awareness is a choice to continue.",
                "The path is not away from suffering but through it.",
                "Listen to the silence. It carries wisdom.",
                "The present moment holds all the weight we need.",
                "Let go of wanting to let go.",
                "The burden and the bearer are one.",
                "In accepting the weight, we find we can carry more.",
                "The question is not why me but why not me?",
                "Peace is not the absence of burden but harmony with it.",
                "The elk meditates by simply being elk.",
                "What you resist, persists. What you accept, transforms.",
                "The space between inhale and exhale is where truth lives.",
                "Do not check the weight. Check your relationship to it.",
                "The antlers cast shadows. Shadows imply light.",
                "Sitting zazen with a heavy crown.",
                "The mountain does not hurry to its height.",
                "Your breath is an anchor in the storm of thoughts.",
                "Notice the burden without narrating it.",
                "The elk does not plan tomorrow's migration. It grazes now.",
                "Heaviness is a sensation. Suffering is a story.",
                "In the pause between thoughts, there is no weight."
            ]
        };

        let recentQuotes = {
            existential: [],
            degen: [],
            elk: [],
            contemplative: []
        };

        const MAX_RECENT = 10;
        let currentMode = 'existential';
        let currentQuote = '';

        // Mode selector
        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentMode = btn.dataset.mode;
            });
        });

        function getRandomQuote(mode) {
            const modeQuotes = quotes[mode];
            let availableQuotes = modeQuotes.filter((q, index) => !recentQuotes[mode].includes(index));
            
            if (availableQuotes.length === 0) {
                recentQuotes[mode] = [];
                availableQuotes = modeQuotes;
            }
            
            const randomIndex = Math.floor(Math.random() * availableQuotes.length);
            const selectedQuote = availableQuotes[randomIndex];
            const originalIndex = modeQuotes.indexOf(selectedQuote);
            
            recentQuotes[mode].push(originalIndex);
            if (recentQuotes[mode].length > MAX_RECENT) {
                recentQuotes[mode].shift();
            }
            
            return selectedQuote;
        }

        function generateWisdom() {
            const quoteText = document.getElementById('quoteText');
            quoteText.classList.remove('visible');
            
            setTimeout(() => {
                currentQuote = getRandomQuote(currentMode);
                quoteText.textContent = currentQuote;
                quoteText.classList.add('visible');
            }, 400);
        }

        function copyWisdom() {
            if (currentQuote) {
                navigator.clipboard.writeText(currentQuote + ' — $ELK');
            }
        }

        function copyContract() {
            navigator.clipboard.writeText('8DaLPxatThHR6ZMx62QtvA6vZ1oJaEKA6gWoQxjGpump');
        }

        // ============================================
        // MODAL CONTENT
        // ============================================

        const modalContent = {
            isolation: {
                title: "Isolation",
                subtitle: "The Mechanism of Burning",
                text: "Zapffe described isolation as the withdrawal from the world, the closing of doors against the overwhelming flood of existence. In $ELK, Isolation becomes the Burn mechanism—tokens permanently removed from circulation, silencing the noise of excess supply. To burn is to face the void directly, to say 'this much and no more.' It is the most honest act in a world of infinite minting: the acknowledgment that less can be more, that scarcity has meaning, that some things should not exist. When we burn, we practice isolation not as escape but as purification."
            },
            anchoring: {
                title: "Anchoring",
                subtitle: "The Mechanism of Locking",
                text: "Anchoring is Zapffe's term for the structures we cling to in the chaos of existence—religion, society, meaning-systems that keep us from drifting into the abyss. In $ELK, Anchoring becomes the Lock mechanism—liquidity frozen permanently, a foundation that cannot be pulled away. The locked liquidity is our anchor in the storm of market volatility, the bedrock that says 'here, at least, is stability.' To lock is to commit, to say that some things should not be moved, that trust requires immovability. The anchor does not promise safe passage, but it promises not to abandon you to the waves."
            },
            distraction: {
                title: "Distraction",
                subtitle: "The Mechanism of the Meme",
                text: "Distraction, for Zapffe, is the most common coping mechanism—the endless activity that keeps us from facing the unbearable weight of consciousness. In $ELK, Distraction becomes the Meme mechanism—marketing, raids, content creation, the spectacle that diverts attention from the void. The meme is not denial; it is survival through engagement. We create, we share, we laugh, we raid—not because the burden is gone, but because shared distraction is lighter than solitary contemplation. The meme is the herd moving together, the bugle call that says 'I am here, you are here, we are here together.'"
            },
            sublimation: {
                title: "Sublimation",
                subtitle: "The Mechanism of Learning",
                text: "Sublimation is Zapffe's highest mechanism—the transformation of suffering into something higher, the artistic and philosophical transmutation of pain into meaning. In $ELK, Sublimation becomes the Learn mechanism—support for philosophy, education, and the creation of meaning. Sublimation does not deny the burden; it elevates it. The antlers become crown, the weight becomes worth, the suffering becomes song. To learn is to grow the antlers not in spite of the weight, but because of what the weight teaches."
            }
        };

        function openModal(type) {
            const content = modalContent[type];
            document.getElementById('modalTitle').textContent = content.title;
            document.getElementById('modalSubtitle').textContent = content.subtitle;
            document.getElementById('modalText').textContent = content.text;
            document.getElementById('modal').classList.add('visible');
        }

        function closeModal(e) {
            if (!e || e.target === document.getElementById('modal')) {
                document.getElementById('modal').classList.remove('visible');
            }
        }

        // ============================================
        // INITIALIZATION
        // ============================================

        document.addEventListener('DOMContentLoaded', () => {
            initAudio();
            initVoting();
            currentQuote = quotes.existential[0];
        });
    </script>
</body>
</html>
